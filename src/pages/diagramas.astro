---
import MainLayout from '../layouts/MainLayout.astro';
---

<MainLayout
  title="Diagramas"
  description="Diagramas interativos de arquitetura, fluxo de requisições e padrões de infraestrutura."
>
  <div class="mx-auto max-w-5xl px-4 py-12 sm:px-6">
    <div class="mb-10">
      <h1 class="mb-3 text-3xl font-bold tracking-tight sm:text-4xl">Diagramas</h1>
      <p class="max-w-lg text-sm text-[var(--color-text-muted)]">
        Visualizações interativas de arquitetura de sistemas, protocolos e padrões de infraestrutura.
      </p>
    </div>

    <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
      {
        [
          {
            href: '/diagramas/arquitetura-aws',
            title: 'Arquitetura AWS',
            desc: 'VPC, subnets, load balancer, ECS, RDS, ElastiCache e CloudFront.',
            color: '#F59E0B',
            tooltip:
              'Visualize a arquitetura completa de uma aplicação em produção na AWS, incluindo VPC com subnets públicas e privadas, Application Load Balancer, ECS Fargate, RDS Multi-AZ, ElastiCache Redis e distribuição CloudFront.',
          },
          {
            href: '/diagramas/fluxo-request',
            title: 'Fluxo HTTP',
            desc: 'Caminho completo de uma requisição HTTP — do browser ao banco de dados.',
            color: '#2563EB',
            tooltip:
              'Acompanhe passo a passo o caminho de uma requisição HTTP desde o browser, passando por DNS, CDN, load balancer, servidor de aplicação, cache e banco de dados, até a resposta chegar ao cliente.',
          },
          {
            href: '/diagramas/seguranca-camadas',
            title: 'Segurança em Camadas',
            desc: 'Modelo de segurança em camadas: rede, aplicação, autenticação e dados.',
            color: '#EF4444',
            tooltip:
              'Modelo defense-in-depth com múltiplas camadas de proteção: firewall e WAF na borda, TLS/mTLS no transporte, autenticação e autorização na aplicação, e criptografia at-rest nos dados.',
          },
          {
            href: '/diagramas/escalabilidade',
            title: 'Escalabilidade',
            desc: 'Vertical vs horizontal. Load balancing, sharding, replicação e quando usar cada estratégia.',
            color: '#10B981',
            tooltip:
              'Scale-up vs scale-out: limites de um servidor único, load balancers, stateless services, particionamento de dados (sharding), replicação e os trade-offs de cada abordagem.',
          },
          {
            href: '/diagramas/arquitetura-frontend',
            title: 'Arquitetura Frontend',
            desc: 'Design system, componentização, gerenciamento de estado e pipeline de build.',
            color: '#a855f7',
            tooltip:
              'Camadas de um design system (tokens, primitivos, compostos, páginas), padrões de estado (local, lifted, global, server state) e pipeline de entrega (bundle, split, CDN).',
          },
          {
            href: '/diagramas/queue-systems',
            title: 'Sistemas de Filas',
            desc: 'Producers, brokers, consumers, dead letter queues e padrões de entrega.',
            color: '#f97316',
            tooltip:
              'Message brokers, pub/sub, garantias de entrega (at-least-once, exactly-once), dead letter queues, backpressure e padrões de integração com RabbitMQ, Kafka e SQS.',
          },
        ].map((item) => (
          <a
            href={item.href}
            class="group relative block overflow-hidden rounded-lg border border-[var(--color-border)] bg-[var(--color-bg-alt)] transition-colors hover:border-[var(--color-text-muted)]"
          >
            <div class="h-0.5" style={`background-color: ${item.color}`} />
            <div class="p-5">
              <h2 class="mb-1.5 text-sm font-bold">{item.title}</h2>
              <p class="text-xs leading-relaxed text-[var(--color-text-muted)]">{item.desc}</p>
              <span class="mt-3 inline-flex items-center gap-1 text-xs text-[var(--color-text-muted)] transition-colors group-hover:text-[var(--color-text)]">
                Explorar
                <svg
                  class="h-3 w-3"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                >
                  <>
                    <path d="M5 12h14" />
                    <path d="m12 5 7 7-7 7" />
                  </>
                </svg>
              </span>
            </div>
            <span class="pointer-events-none absolute right-4 bottom-full left-4 z-10 mb-2 rounded-lg border border-[var(--color-border)] bg-[var(--color-bg-alt)] p-3 text-xs leading-relaxed text-[var(--color-text-muted)] opacity-0 shadow-lg transition-opacity duration-200 group-hover:opacity-100">
              {item.tooltip}
            </span>
          </a>
        ))
      }
    </div>

    <div class="mt-12 rounded-xl border border-[var(--color-border)] bg-[var(--color-bg-alt)] p-6 text-center">
      <h2 class="mb-2 text-lg font-bold">Visualizadores de Algoritmos</h2>
      <p class="mx-auto mb-4 max-w-md text-sm text-[var(--color-text-muted)]">
        Os visualizadores interativos de algoritmos agora fazem parte da página de DSA, com 19 algoritmos animados passo a passo.
      </p>
      <a
        href="/dsa"
        class="inline-flex items-center gap-2 rounded-lg border border-[var(--color-border)] px-4 py-2 text-sm font-medium transition-colors hover:border-[var(--color-text-muted)]"
      >
        Ver Algoritmos & DSA
        <svg class="h-4 w-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M5 12h14" />
          <path d="m12 5 7 7-7 7" />
        </svg>
      </a>
    </div>
  </div>
</MainLayout>
